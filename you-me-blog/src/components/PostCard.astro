---
const { frontmatter, url } = Astro.props;

const { title, description, date, category, image } = frontmatter;

import { formatDate, slugify } from "../js/utils.js";
---

<article class="card">
  <div class="card__reference">
    <a class="primary" href=`/category/${slugify(category)}`
      >{slugify(category)}</a
    >
  </div>
  <a class="card__link" href={url}>
    <img class="card__image" src={image.src} alt={image.alt} />
    <h2 class="card__h2">{title}</h2>
    <!-- <p class="card__p">{description}</p> -->
    <span class="card__date">{formatDate(date)}</span>
  </a>
</article>

<style lang="scss">
  .card {
    :is(&, &__link) {
      display: flex;
    }
    flex-flow: column;
    transition: all 0.3s ease-in-out;
    &__reference {
      font-size: 0.9rem;
    }
    &__link {
      flex-flow: column;
      gap: 1rem;
      color: hsl(0, 0%, 20%);
    }
    &__image {
      object-fit: cover;
      aspect-ratio: 2/1;
    }
    &__h2 {
      position: relative;
      &::after {
        content: "";
        inset: 0 0 0 0;
        position: absolute;
        background-color: hsl(40, 93%, 62%);
        height: 3px;
        z-index: -1;
      }
    }
    &__p {
      font-size: 1rem;
    }
    &__date {
      color: hsl(197, 84%, 58%);
      font-weight: 600;
    }
    &:hover {
      box-shadow: inset 7em 0 0 0 hsla(195, 61%, 80%, 0.7);
      color: white;
    }
  }
</style>
