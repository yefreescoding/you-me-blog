---
const { frontmatter, url, tagType } = Astro.props;

const { title, description, date, category, image } = frontmatter;

import { formatDate } from "../js/utils.js";
---

<!-- <pre>{JSON.stringify(frontmatter, null, 2)}</pre> -->
<artcle class="card">
  <div class="card__reference">
    <a class="secondary" href={category}>{category}</a>
  </div>
  <a class="card__link" href={url}>
    <img class="card__image" src={image.src} alt={image.alt} />
    <h2 class="card__h2">{title}</h2>
    <p class="card__p">{description}</p>
    <span class="card__date">{formatDate(date)}</span>
  </a>
</artcle>

<style lang="scss">
  .card {
    display: flex;
    flex-flow: column;
    &__reference {
      font-size: 0.9rem;
    }
    .card__link {
      display: flex;
      flex-flow: column;
      gap: 1rem;
    }
    &__image {
      object-fit: cover;
      aspect-ratio: 2/1;
    }
    &__h2 {
      position: relative;
      width: fit-content;
      &::after {
        content: "";
        inset: auto 0 0 0;
        position: absolute;
        background-color: hsl(40, 93%, 62%);
        height: 3px;
        z-index: -1;
      }
    }
    &__p {
      font-size: 1rem;
    }
    &__date {
      color: hsl(197, 84%, 38%);
    }
  }
</style>
